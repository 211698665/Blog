<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>syw的博客</title>
		<link rel="apple-touch-icon-precomposed" href="/static/user/images/icon/icon.png">
		<link rel="shortcut icon" href="/static/user/images/icon/favicon.ico">
		<link rel="stylesheet" href="/static/user/css/main.css" />
		<link rel="stylesheet" href="/static/user/css/reset.css" />
		<link rel="stylesheet" href="/static/user/css/baguetteBox.min.css" />
		<link rel="stylesheet" href="/static/user/css/smohan.pop&share.css" />
		<link rel="stylesheet" type="text/css" href="/static/user/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="/static/user/css/nprogress.css">
		<link rel="stylesheet" type="text/css" href="/static/user/css/font-awesome.min.css">
		<link rel="stylesheet" type="text/css" href="/static/user/css/skPlayer.css">
		<link rel="stylesheet" href="/static/user/css/cl-css.css" />
		<link rel="stylesheet" type="text/css" href="/static/user/css/style.css">
		<link rel="stylesheet" href="/static/user/css/art-detail.css" />
		<link rel="stylesheet" href="/static/user/css/share.css" />
		<script src="/static/user/js/jquery-2.1.4.min.js"></script>
		<script type="text/javascript" src="/static/user/js/smohan.pop&share.js" ></script>
		<script src="/static/user/js/nprogress.js"></script>
		<script src="/static/user/js/jquery.lazyload.min.js"></script>
		<script type="text/javascript" src="/static/user/js/skPlayer.min.js"></script>
		<link rel="stylesheet" href="/static/user/css/main.css" />
	</head>
	<body>
		<header class="header" id="main_top">
			<nav class="navbar navbar-default navbar-fixed-top" id="navbar" style="">
				<div class="container">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-navbar" aria-expanded="false"> <span class="sr-only"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
						<h1 class="logo hvr-bounce-in"><a href="" title=""><img src="/static/user/images/logo.png" alt="" style="height: 80%;"></a></h1>
					</div>
					<div class="collapse navbar-collapse" id="header-navbar">
						<ul class="nav navbar-nav navbar-right userMenu">
							<li class="hidden-index ">
								<a href="/user/index">博客首页</a>
							</li>
							<li>
								<a href="/user/sort">博文分类</a>
							</li>
							<li>
								<a href="/user/time">时光机器</a>
							</li>
							<li>
								<a href="/user/photo">流年似水</a>
							</li>
							<li>
								<a href="/user/me">关于博主</a>
							</li>
						</ul>
						<form class="navbar-form visible-xs" action="/Search" method="post">
							<div class="input-group">
								<input type="text" name="keyword" class="form-control" placeholder="请输入关键字" maxlength="20" autocomplete="off">
								<span class="input-group-btn">
            <button class="btn btn-default btn-search" name="search" type="submit">搜索</button>
            </span> </div>
						</form>
					</div>
				</div>
			</nav>
		</header>
		<section class="container">
			<div class="content-wrap">
				<div class="content" >
					<header class="article-header">
						<h1 class="article-title"><a th:href="@{'/user/artdetail?id='+${artDetail.articleId}}"><span th:text="${artDetail !=null }?${artDetail.articleTitle }:''"></span></a></h1>
						<div class="article-meta"> <span class="item article-meta-time">
						  <time class="time" data-toggle="tooltip" ><i class="glyphicon glyphicon-time" style="color: lightpink;"></i><span th:text="${artDetail !=null }?${artDetail.articleUpdatetime }:''"></span> </time>
						</span>
							<span class="item article-meta-views"  data-placement="bottom" ><i class="glyphicon glyphicon-eye-open" style="color: lightblue;"></i> 共<span th:text="${artDetail !=null }?${artDetail.articleClick }:''"></span>人查看</span> <span class="item article-meta-comment" data-placement="bottom" ><i class="glyphicon glyphicon-comment" style="color: lightgreen;"></i> <span th:text="${commentNum !=null }?${commentNum }:''"></span>条评论</span>
						</div>
					</header>
					<article class="article-content" th:text="${artDetail !=null }?${artDetail.articleContent }:''">

					</article>
					<br />
					<p class="article-copyright hidden-xs banquan">博主syw提醒您：右下方有根据该文章作出的智能推荐哦</p>
					<div class="article-tags " style="width: 86%;height: 40px;display: inline-block;">类别：
						<a href="javascript:void(0)" rel="tag" style="background-color: #0092ca;border-radius: 10px;height: 27px;"><span th:text="${artCategory !=null }?${artCategory }:''"></span></a>
					</div>

					<div style="width: 40%;height: 40px;margin-top: -76px;margin-left: 460px;">
						<a href="javascript:void(0)" class="share" style="color: #444;">分享:&nbsp;&nbsp;
							<span class="glyphicon glyphicon-send" style="font-size: 26px;color: #2194b6;position: relative;top: 8px;" ></span>
						</a>
					</div>

					<div class="title" id="comment">
						<h3>发表评论 </h3>
					</div>
					<br />
					<div id="respond">
						<form action="##" method="post" onsubmit=" return false" id="form1">
							<div class="comment">
								<div class="comment-box">
									<textarea placeholder="您的评论可以一针见血" name="commentContent" id="comment-textarea" cols="100%" rows="3" tabindex="1"></textarea>
									<hr style="margin-bottom:  1px;" />
									<div class="comment-ctrl">
										<div class="comment-prompt"> <i class="fa fa-spin fa-circle-o-notch"></i> <span class="comment-prompt-text"></span> </div>
										<span class="glyphicon glyphicon-user" style="float: left;font-size: 20px;height: 34px;line-height: 34px; margin-right: 1%;margin-left: 1%; color: #0092ca;"></span>
										<input type="text" id="comment_name" name="commentName" required style="float: left;width: 30%;margin-right: 2%;" class="form-control" placeholder="用户名">
										<span class="glyphicon glyphicon-comment" style="float: left;font-size: 20px;height: 34px;line-height: 34px; margin-right: 1%;margin-left: 1%;color: #0092ca;"></span>
										<input type="text" id="comment_qq" name="commentQq" required style="float: left;width: 30%;" class="form-control" placeholder="QQ号码">
										<input type="text" readonly="readonly" style="height: 1px;width: 0px" name="articleId" th:value="${artDetail !=null }?${artDetail.articleId }:''">
										<input type="button" onclick="subComment()" class="btn btn-primary" style="float: right; background-color: #0092ca;border: 0px;"  tabindex="5" value="评论" />
									</div>
								</div>
							</div>
						</form>
					</div>
					<div id="postcomments">
						<div class="title">
							<h3>全部评论</h3>
						</div>
						<div class="comment-panel" th:each="comment:${comments}">
							<div class="comment-panel-portrait">
								<img th:src="@{${comment.commentHead}}"  class="img-fluid rounded-circle" alt="">
							</div>
							<div class="comment-panel-content ">
								<div class="comment-panel-content-item">
									<div class="comment-author" th:text="${comment.commentName}"></div>
									<div class="comment-time" th:text="${comment.commentCreateTime}"></div>
								</div>
								<div class="comment-panel-content-main comment-value" th:text="${comment.commentContent}"></div>
							</div>
						</div>
						
					</div>
					<nav class="pagination" style="display: block ;padding-bottom: 0px;padding-top: 10px;">
						<ul>
							<li class="prev-page">
								<a th:href="@{/user/artdetail(pn=1,id=${artDetail.articleId})}">首页</a>
							</li>
							<li class="prev-page" th:if="${currPage -1 >0}">
								<a th:href="@{/user/artdetail(pn=${currPage - 1},id=${artDetail.articleId})}">上一页</a>
							</li>
							<li class="active persentpage"><span th:text="${currPage}"></span></li>

							<li class="next-page" th:if="${currPage <pageSize}">
								<a th:href="@{/user/artdetail(pn=${currPage + 1},id=${artDetail.articleId})}">下一页</a>
							</li>
							<li class="prev-page">
								<a th:href="@{/user/artdetail(pn=${pageSize},id=${artDetail.articleId})}">尾页</a>
							</li>
						</ul>
					</nav>
				</div>
			</div>
			<aside class="sidebar">
				<div class="">
					<div class="widget widget-tabs" style="text-align: center ;padding-left: 130px;padding-top: 30px;height: 328px;margin-top: -1px; border-top:1px solid lightgray;box-sizing: border-box;">
						<div style="height: 100px; width: 100px;border-radius: 50px;overflow: hidden; ">
							<img src="/static/user/images/userImg/306539.jpg" style="height: 100px; width: 100px;" />
						</div>
						<div style="margin-left: -130px;">
							<br />
							<p class="text-primary text-center" style="font-family: '楷体';font-size: 22px;color: #646869;">
								<font style="color: red;">syw</font>的博客</p>
							<p class="text-info text-center" style="margin-top: 6px;font-family: '楷体';font-size: 20px; color: #646869;">Email：syw1234@126.com</p>
							<p class="text-info text-center" style="margin-top: 10px;">
								<a href="#" style="text-decoration: none ;font-family: '楷体';font-size: 18px; color: #646869;"><b>访问次数</b>: &nbsp;<span class="bg-success" style="display: inline-block;height: 26px; width: 60px;border-radius:16px;color: #2FC72F;">50</span></a>
							</p>
							<p class="text-info text-center" style="margin-top: 10px;">
								<a href="#" style="text-decoration: none;font-family: '楷体';font-size: 18px; color: #646869;"><b>博文总数</b>: &nbsp;<span class="bg-success" style="display: inline-block;height: 26px; width: 60px;border-radius: 16px;color: #2FC72F;">20</span></a>
							</p>
						</div>
					</div>
					<div class="widget widget_search" style="box-sizing: border-box;">
						<form class="navbar-form" action="/user/searchList" method="post">
							<div class="input-group">
								<input type="text" name="keyword" class="form-control" size="35" placeholder="请输入关键字" th:value="${keyword !=null }?${keyword}:''" maxlength="15" autocomplete="off">
								<span class="input-group-btn">
            <button class="btn btn-default btn-search" name="search" type="submit">搜索</button>
            </span> </div>
						</form>
					</div>
				</div>
				<div class="widget widget_medio" style="width: 360px; height: 245px;box-sizing: border-box;">
					<h3>
    		<a href="#" style="color: limegreen;">
	          <span class="glyphicon glyphicon-music"></span>
	        </a>
	        &nbsp;&nbsp;动听音乐
    	</h3>
					<div id="skPlayer" style=""></div>
				</div>
				<div class="widget widget_sentence" style="box-sizing: border-box;">
					<h3>
      	<a href="#" style="color: mediumpurple;">
          <span class="glyphicon glyphicon-th"></span>
        </a>
        &nbsp;&nbsp;博客分类
      	
      </h3>
					<div class="widget-sentence-content" style="padding-bottom: 0px;">
						<table class="table " style="font-size: 16px;">
							<tr >
								<td th:each="categorylist,listStat:${categorysList}" th:if="${listStat.index / 4 eq 0}">
									<span th:class="${categorylist.categoryDesc}" th:text="${categorylist.categoryName}"></span>
								</td>
							</tr>
							<tr >
								<td th:each="categorylist,listStat:${categorysList}" th:if="${listStat.index / 4 eq 1}">
									<span th:class="${categorylist.categoryDesc}" th:text="${categorylist.categoryName}"></span>
								</td>
							</tr>
							<tr >
								<td th:each="categorylist,listStat:${categorysList}" th:if="${listStat.index / 4 eq 2}">
									<span th:class="${categorylist.categoryDesc}" th:text="${categorylist.categoryName}"></span>
								</td>
							</tr>
							<tr >
								<td th:each="categorylist,listStat:${categorysList}" th:if="${listStat.index / 4 eq 3}">
									<span th:class="${categorylist.categoryDesc}" th:text="${categorylist.categoryName}"></span>
								</td>
							</tr>
						</table>
					</div>
				</div>
				<div class="widget widget_hot" style="box-sizing: border-box;">
					<h3>
						<a href="#" style="color: red;">
							<span class="glyphicon glyphicon-fire"></span>
						</a>
						&nbsp;&nbsp;热门文章
					</h3>
					<ul>
						<li th:each="topArticle:${topListHot}">
							<a th:href="@{'/user/artdetail?id='+${topArticle.articleId}}">
								<span class="thumbnail" style="display: inline-block; width: 70px; height: 70px;">
				        			<img class="thumb"  th:src="@{${topArticle.articleImage}}" style="width: 100%; height: 100%;" alt="">
				        		</span>
								<span style="display: inline-block;height: 2px;padding: 0px;margin: 0px;"></span>
								<span class="text" style="font-size: 15px; margin-left: -45px; margin-top: -10px;" th:text="${topArticle !=null }?${topArticle.articleTitle }:''"></span>
								<div style="height: 11px;padding: 0px;margin: 0px;"></div>
								<span class="muted" style="margin-left: -45px;">
				        			<i class="glyphicon glyphicon-time"></i> <span th:text="${topArticle !=null }?${topArticle.articleUpdatetime }:''"></span>
				        		</span>
								<span class="muted" style="margin-left: 10px;">
				        			<i class="glyphicon glyphicon-eye-open"></i> <span th:text="${topArticle !=null }?${topArticle.articleClick }:''"></span>
				        		</span>
							</a>
						</li>
					</ul>
				</div>
				<div class="widget widget_hot" style="box-sizing: border-box;">
					<h3>
						<a href="#" style="color: lightseagreen;">
							<span class="glyphicon glyphicon-screenshot"></span>
						</a>
						&nbsp;&nbsp;智能推荐
					</h3>
					<ul>
						<li th:each="advice:${advicesArticle}">
							<a th:href="@{'/user/artdetail?id='+${advice.articleId}}">
								<span class="thumbnail" style="display: inline-block; width: 70px; height: 70px;">
				        			<img class="thumb"  th:src="@{${advice.articleImage}}" style="width: 100%; height: 100%;" alt="">
				        		</span>
								<span style="display: inline-block;height: 2px;padding: 0px;margin: 0px;"></span>
								<span class="text" style="font-size: 15px; margin-left: -45px; margin-top: -10px;" th:text="${advice !=null }?${advice.articleTitle }:''"></span>
								<div style="height: 11px;padding: 0px;margin: 0px;"></div>
								<span class="muted" style="margin-left: -45px;">
				        			<i class="glyphicon glyphicon-time"></i> <span th:text="${advice !=null }?${advice.articleUpdatetime }:''"></span>
				        		</span>
								<span class="muted" style="margin-left: 10px;">
				        			<i class="glyphicon glyphicon-eye-open"></i> <span th:text="${advice !=null }?${advice.articleClick }:''"></span>
				        		</span>
							</a>
						</li>
					</ul>
				</div>
			</aside>
		</section>
		<footer class="footer">
			<div class="container">
				<p>&copy;C
					<font style="text-transform:lowercase;">opyright</font> &nbsp;河南大学 2016级软件工程 &nbsp; syw的个人博客 &nbsp; &nbsp; 欢迎访问</p>
			</div>
			<div id="gotop">
				<a href="#main_top" class="gotop back-to-top"></a>
			</div>
		</footer>
		<script src="/static/user/js/bootstrap.min.js"></script>
		<script src="/static/user/js/systime.js" ></script>

		<script>
			var player = new skPlayer({
				autoplay: false,
				listshow: true,
				/*music: {
				    type: 'cloud',
				    source: 71384707
				}*/
				music: {
					type: 'file',
					source: [{
							name: '飞云之下',
							author: '林俊杰&韩红',
							src: '/static/user/music/飞云之下.mp3',
							cover: '/static/user/images/musicImg/1.jpg'
						},
						{
							name: '我的一个道姑朋友',
							author: '以冬',
							src: '/static/user/music/我的一个道姑朋友.mp3',
							cover: '/static/user/images/musicImg/2.jpg'
						}
					]
				}
			});
			/*function addcomment() {
				var comment_name=$('#comment_name').val();
				var comment_content=$('#comment-textarea').val();
				var comment_qq=$('#comment-qq').val();
				var comment_create_time=now();
				var url = "https://api.uomg.com/api/rand.avatar?sort=%E5%8A%A8%E6%BC%AB%E7%94%B7&format=json";
				$.ajax({
					type: "post",
					url: url,
					dataType: "json",
					success: function(data) {
						$('#postcomments').append("<div class='comment-panel'>"+
							"<div class='comment-panel-portrait'>"+
								"<img src="+data.imgurl+" class='img-fluid rounded-circle' >"+
							"</div>"+
							"<div class='comment-panel-content '>"+
								"<div class='comment-panel-content-item'>"+
									"<div class='comment-author'>"+comment_name+"</div>"+
									"<div class='comment-time'>"+comment_create_time+"</div>"+
								"</div>"+
								"<div class='comment-panel-content-main comment-value'>"+comment_content+"</div>"+
							"</div>"+
						"</div>")

					},
					error: function(XMLHttpRequest, textStatus, errorThrown) {
						alert(errorThrown);
					}
				});
				return true;
			}*/
			function subComment() {
				$.ajax({
					//几个参数需要注意一下
					type: "POST",//方法类型
					dataType: "json",//预期服务器返回的数据类型
					url: "/user/artComment" ,//url
					data: $('#form1').serialize(),
					success: function (data) {
						console.log(data)
							$('#postcomments').append("<div class='comment-panel'>"+
									"<div class='comment-panel-portrait'>"+
									"<img src="+data.commentHead+" class='img-fluid rounded-circle' >"+
									"</div>"+
									"<div class='comment-panel-content '>"+
									"<div class='comment-panel-content-item'>"+
									"<div class='comment-author'>"+data.commentName+"</div>"+
									"<div class='comment-time'>"+data.commentCreateTime+"</div>"+
									"</div>"+
									"<div class='comment-panel-content-main comment-value'>"+data.commentContent+"</div>"+
									"</div>"+
									"</div>")
					},
					error : function() {
						alert("异常！");
					}
				});
			}
			$(function(){
				var a = $(".article-content").text(); //news_abstract为p标签的class值
				$(".article-content").html(a);
			});
		</script>
		<script src="/static/user/js/jquery.ias.js"></script>
		<script src="/static/user/js/scripts.js"></script>
		<script type="text/javascript" src="/static/user/js/artdetail.js"></script>
		<script type="text/javascript" src="/static/user/js/share.js"></script>
		<script  type="text/javascript">
			$('.share').shareConfig({
				Shade : true, //是否显示遮罩层
				Event:'click', //触发事件
				Content : 'Share', //内容DIV ID
				Title : 'syw的博客' //显示标题
			});
		</script>

	</body>

</html>